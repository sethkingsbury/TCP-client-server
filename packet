def convert_file(filename):
    file = open(filename, 'rb')
    data = file.read()
    return data

def create_response_header(data):
    magicNo = 0x497E
    header_type = 2
    status_code = 1
    data_length = len(data)
    
    b1 = magicNo >> 8
    b2 = magicNo & 0xff
    b3 = header_type
    b4 = status_code
    b5 = data_length >> 0xff
    b6 = (data_length >> 0xf) & 0xff
    b7 = (data_length >> 0x8) & 0xff
    b8 = data_length & 0xff
    
    header = bytearray([b1, b2, b3, b4, b5, b6, b7, b8])
    
    return header

def create_request_header(filename):
    magicNo = 0x497E
    header_type = 1
    filename_length = len(filename)
    
    b1 = magicNo >> 8
    b2 = magicNo & 0xff
    b3 = header_type
    b4 = filename_length >> 8
    b5 = filename_length & 0xff
    
    header = bytearray([b1, b2, b3, b4, b5])
    
    return header

def main():
    filename = "test2.txt"
    data = convert_file(filename)
    b = create_response_header(data)
    print(b)
    rh = create_request_header(filename.encode())
    print(rh)
    
main()
